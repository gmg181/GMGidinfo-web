<!DOCTYPE html>
<html>
<head>
Â  <title>Craftland UID Editor</title>
Â  <style>
Â  Â  body {
Â  Â  Â  font-family: Arial, sans-serif;
Â  Â  Â  display: none; /* Hidden until password entered */
Â  Â  Â  flex-direction: column;
Â  Â  Â  align-items: center;
Â  Â  Â  justify-content: flex-start;
Â  Â  Â  min-height: 100vh;
Â  Â  Â  background-color: #e53935;
Â  Â  Â  color: #fff;
Â  Â  Â  padding-top: 40px;
Â  Â  Â  text-align: center;
Â  Â  }

Â  Â  h1 {
Â  Â  Â  font-size: 24px;
Â  Â  Â  margin-bottom: 20px;
Â  Â  }

Â  Â  form {
Â  Â  Â  background: #fff;
Â  Â  Â  color: #000;
Â  Â  Â  padding: 30px 20px;
Â  Â  Â  border-radius: 14px;
Â  Â  Â  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
Â  Â  Â  width: 90%;
Â  Â  Â  max-width: 360px;
Â  Â  Â  margin-top: 20px;
Â  Â  }

Â  Â  input[type="file"] {
Â  Â  Â  padding: 16px;
Â  Â  Â  font-size: 18px;
Â  Â  Â  background-color: #fff;
Â  Â  Â  border: 2px solid #ccc;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  width: 100%;
Â  Â  Â  margin-bottom: 12px;
Â  Â  }

Â  Â  input[type="number"],
Â  Â  button,
Â  Â  input[type="text"] {
Â  Â  Â  width: 100%;
Â  Â  Â  padding: 12px;
Â  Â  Â  margin-top: 12px;
Â  Â  Â  font-size: 16px;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  border: 1px solid #ccc;
Â  Â  }

Â  Â  button {
Â  Â  Â  background-color: #e53935;
Â  Â  Â  color: #fff;
Â  Â  Â  border: none;
Â  Â  Â  cursor: pointer;
Â  Â  }

Â  Â  button:hover {
Â  Â  Â  background-color: #d32f2f;
Â  Â  }

Â  Â  .filename-display {
Â  Â  Â  margin-top: 10px;
Â  Â  Â  font-size: 14px;
Â  Â  Â  font-weight: bold;
Â  Â  Â  color: #fff;
Â  Â  }

Â  Â  .slot-input {
Â  Â  Â  margin-top: 10px;
Â  Â  }
Â  </style>
</head>
<body>
Â  <h1>ğŸ› ï¸ CRAFTLAND MAP FILE UID EDIT BY GMG</h1>

Â  <form id="uploadForm" method="POST" enctype="multipart/form-data">
Â  Â  <input type="file" name="file" id="fileInput" accept=".bytes" required>
Â  Â  <div id="fileName" class="filename-display"></div>
Â  Â  <input type="text" name="slot" id="slotInput" class="slot-input" placeholder="Enter slot number (e.g. 1)" required>
Â  </form>

Â  {% if uid %}
Â  Â  <form method="POST" action="/edit">
Â  Â  Â  <h3>âœ… UID Found: <code>{{ uid }}</code></h3>
Â  Â  Â  <input type="hidden" name="filename" value="{{ filename }}">
Â  Â  Â  <input type="number" name="new_uid" value="{{ uid }}" required>
Â  Â  Â  <button type="submit">ğŸ” Replace & Download</button>
Â  Â  </form>
Â  {% endif %}

Â  <script>
Â  Â  const correctPassword = "ffkey420";
Â  Â  const entered = sessionStorage.getItem("authenticated");

Â  Â  if (entered !== correctPassword) {
Â  Â  Â  const input = prompt("ğŸ”’ Enter password to access:");
Â  Â  Â  if (input !== correctPassword) {
Â  Â  Â  Â  alert("âŒ Incorrect password. Reload page to try again.");
Â  Â  Â  Â  document.body.innerHTML = ""; // Block content
Â  Â  Â  } else {
Â  Â  Â  Â  sessionStorage.setItem("authenticated", input);
Â  Â  Â  Â  document.body.style.display = "flex";
Â  Â  Â  }
Â  Â  } else {
Â  Â  Â  document.body.style.display = "flex";
Â  Â  }

Â  Â  const fileInput = document.getElementById("fileInput");
Â  Â  const fileNameDiv = document.getElementById("fileName");
Â  Â  const slotInput = document.getElementById("slotInput");
Â  Â  const form = document.getElementById("uploadForm");

Â  Â  fileInput?.addEventListener("change", function () {
Â  Â  Â  if (this.files.length > 0) {
Â  Â  Â  Â  fileNameDiv.textContent = "ğŸ“‚ Selected file: " + this.files[0].name;
Â  Â  Â  }
Â  Â  });

Â  Â  slotInput?.addEventListener("input", function () {
Â  Â  Â  if (fileInput.files.length > 0 && slotInput.value.trim() !== "") {
Â  Â  Â  Â  form.submit();
Â  Â  Â  }
Â  Â  });
Â  </script>
</body>
</html>
